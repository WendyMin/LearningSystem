webpackJsonp([0],{511:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=r(n(4)),o=r(n(515)),l=r(n(13)),i=r(n(1)),u=r(n(11)),s=r(n(2)),d=r(n(3)),c=r(n(0)),f=n(30),p=n(26),h=n(218),m=r(n(516)),v=(r(n(32)),r(n(59))),g=r(n(83)),_=r(n(518)),y=r(n(521)),w=n(525),b=n(221),x=n(217),E=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(530)),k=n(531),S=r(n(538)),A=function(e){function t(e){(0,i.default)(this,t);var n=(0,s.default)(this,(t.__proto__||(0,l.default)(t)).call(this,e));return n.loadQuestions=function(){n.props.loadQuestions({url:"http://139.129.210.230/LearningSystem/BackEnd/get_question.php",body:{username:n.props.username,lock:0,articleId:0},parser:function(e){return e.map(function(e){return{questionId:e.questionid,options:e.choice,rightKey:e.key,question:e.question,analysis:e.analysis}})}})},n.nextStep=function(){n.setState({step:n.state.step+1})},n.confirm=function(){n.nextStep()},n.quit=function(){n.props.history.goBack()},n.doMore=function(){var e=n.props,t=e.unlockAndHide,r=e.loadContent,a=e.questions,o=e.hideAllTranslate;r(),n.loadQuestions();for(var l=0;l<a.length;l++)t(a[l].questionId);o(),n.setState({step:0})},n.submitQuestions=function(){var e=n.props,t=e.username,r=e.questions,a=e.articleId,o=e.submitTime,l=e.submiting,i=e.lockAndShow;if(!l){for(var u="",s=0;s<r.length;s++)r[s].choosed!==r[s].rightKey&&(u+=r[s].questionId+" ");if(n.props.submitQuestions({url:"http://139.129.210.230/LearningSystem/BackEnd/record_wrong_question.php",body:{username:t,article_id:a,wrong_question_ids:u,time:o}}),0==(1&o))for(s=0;s<r.length;s++)i(r[s].questionId)}},n.actions=[n.submitQuestions,e.translateWords,n.confirm,e.translateSentences,e.hideTranslate,n.submitQuestions,[n.confirm,e.translateAll],[n.quit,n.doMore]],n.texts=["submit","translate words","confirm","translate sentences","confirm","submit",["confirm","translate all"],["end","do more"]],n.describes=["read this page, and try to answer the questions in right, and then submit.","choose your unknown words","read the explaination","choose the sentences you do not understand well","check all translates again","do these questions again","check your answers and see analysises","want to do more?"],n.state={step:0},n}return(0,d.default)(t,e),(0,u.default)(t,[{key:"componentDidMount",value:function(){this.props.loadContent(),this.loadQuestions()}},{key:"componentWillMount",value:function(){var e=this.props,t=e.logined,n=e.openWindow,r=e.openMask,a=e.closeMask,o=e.history;t||(n(y.default,{width:"300px",height:"300px",onCancel:function(){return o.push("/")},onLogin:a}),r())}},{key:"componentWillReceiveProps",value:function(e){(e.translateWordsSucceed&&!this.props.translateWordsSucceed||e.showSentencesTranslates!==this.props.showSentencesTranslates||"succeed"===e.submited&&"succeed"!==this.props.submited)&&this.nextStep()}},{key:"shouldComponentUpdate",value:function(e,t){return t.step!==this.state.step||e.transWording!==this.props.transWording}},{key:"render",value:function(){var e,t=this,n=this.state.step,r=this.props,a=r.transWording,l=r.transWordFailed,i=r.transWordSucceed,u=r.translateWords,s=r.translateSentences,d="",f=!0,p=[],y=[];if(Array.isArray(this.texts[n])){var E=(0,o.default)(this.actions[n]);e=E[0],p=E.slice(1);var A=(0,o.default)(this.texts[n]);d=A[0],y=A.slice(1),e={action:e,text:d},p=(0,S.default)({action:p,text:y})}else(e={action:this.actions[n],text:this.texts[n]}).action===s&&(f=!1);return c.default.createElement(c.default.Fragment,null,c.default.createElement(h.Prompt,{when:0!==n&&n!==this.actions.length-1,message:"you need to do it again, are you sure to quit?"}),c.default.createElement("div",{className:m.default.HUD},"Step ",n+1,": ",this.describes[n]),c.default.createElement("div",{className:m.default.wrapper},c.default.createElement("div",{className:m.default.leftPane},c.default.createElement(x.view,{displayByWords:f})),c.default.createElement("div",{className:m.default.rightPane},function(){switch(n){case 0:case 5:case 6:return c.default.createElement(b.view,{submiter:t.submitQuestions,loader:t.loadQuestions});case 1:return c.default.createElement("div",{className:"container"},c.default.createElement("div",{className:"makeLoadingCenter"},c.default.createElement(g.default,{center:!0,loading:a,lastFailed:l,wasLoaded:i,reloader:u,info:"Click on the word you don't know"})));case 2:case 4:return c.default.createElement(k.view,null);case 3:return c.default.createElement(v.default,{info:"Click on the sentence you don't know"});case 7:return c.default.createElement(c.default.Fragment,null,c.default.createElement(w.view,null))}}())),c.default.createElement("div",{className:m.default.controlPane},c.default.createElement(_.default,{mainAction:e,additionalActions:p})))}}]),t}(c.default.Component);t.default=(0,f.connect)(function(e){return{logined:e.UserManager.logined,username:e.UserManager.name,questions:e.SingleOptionQuestions.content,submitTime:e.SingleOptionQuestions.submitTime,submited:e.SingleOptionQuestions.submited,showSentencesTranslates:e.EnglishArticle.showSentencesTranslates,translateWordsSucceed:e.EnglishArticle.transWordSucceed,transWording:e.EnglishArticle.transWording}},function(e){return(0,a.default)({},(0,p.bindActionCreators)(b.actions,e),(0,p.bindActionCreators)(x.actions,e),(0,p.bindActionCreators)(E,e))})(A)},515:function(e,t,n){"use strict";t.__esModule=!0;var r=function(e){return e&&e.__esModule?e:{default:e}}(n(120));t.default=function(e){return Array.isArray(e)?e:(0,r.default)(e)}},516:function(e,t,n){var r=n(517);"string"==typeof r&&(r=[[e.i,r,""]]);var a={hmr:!0};a.transform=void 0;n(16)(r,a);r.locals&&(e.exports=r.locals)},517:function(e,t,n){(t=e.exports=n(15)(void 0)).push([e.i,".ESlEyk-dJX3kYhIleuTzt {\n  height: 3%;\n  background-color: #282c34;\n  color: white;\n  font-size: 100%;\n  text-align: center;\n  font-family: Arvo;\n}\n._31F7BbU91g1SsE6zENhrEU {\n  width: 100%;\n  height: 92%;\n  display: flex;\n  flex-direction: row;\n}\n._31F7BbU91g1SsE6zENhrEU ._2GnjsXvU9BPEqUpQicjs-G {\n  width: 30%;\n  margin-right: 1%;\n}\n._31F7BbU91g1SsE6zENhrEU ._1J2dVevnd9N8idY2qAFf6G {\n  width: 68%;\n  border-right: 2px dashed black;\n  margin-right: 1%;\n}\n._3mrfRA-0bxNtM_aOiSdBce {\n  height: 5%;\n}\n",""]),t.locals={HUD:"ESlEyk-dJX3kYhIleuTzt",wrapper:"_31F7BbU91g1SsE6zENhrEU",rightPane:"_2GnjsXvU9BPEqUpQicjs-G",leftPane:"_1J2dVevnd9N8idY2qAFf6G",controlPane:"_3mrfRA-0bxNtM_aOiSdBce"}},518:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=r(n(13)),o=r(n(1)),l=r(n(11)),i=r(n(2)),u=r(n(3)),s=r(n(0)),d=r(n(519)),c=r(n(32)),f=function(e){function t(e){return(0,o.default)(this,t),(0,i.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e))}return(0,u.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e=this.props,t=e.additionalActions,n=e.mainAction;return s.default.createElement("div",{className:d.default.container},t.map(function(e,t){var n=e.action,r=e.text;return s.default.createElement(c.default,{key:t,className:d.default.additionalAction,text:r,onClick:n})}),s.default.createElement(c.default,{className:d.default.mainAction,text:n.text,onClick:n.action}))}}]),t}(s.default.PureComponent);t.default=f},519:function(e,t,n){var r=n(520);"string"==typeof r&&(r=[[e.i,r,""]]);var a={hmr:!0};a.transform=void 0;n(16)(r,a);r.locals&&(e.exports=r.locals)},520:function(e,t,n){(t=e.exports=n(15)(void 0)).push([e.i,"._3WhPy8oFvxAq6wuhuUx3i_ {\n  width: 100%;\n  height: 100%;\n  background-color: #282c34;\n  display: flex;\n  font-family: Arvo;\n  flex-direction: row;\n  justify-content: center;\n}\n._3WhPy8oFvxAq6wuhuUx3i_ ._35OCFniXNA1dETcIjZVpha {\n  display: inline-flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  flex-grow: 2;\n  max-width: 70%;\n  font-size: 2em;\n  font-weight: bold;\n  background-color: #98c379;\n  background-size: 60px 60px;\n  background-image: linear-gradient(45deg, rgba(255, 255, 255, 0.2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, 0.2) 50%, rgba(255, 255, 255, 0.2) 75%, transparent 75%, transparent);\n  background-repeat: repeat;\n}\n._3WhPy8oFvxAq6wuhuUx3i_ ._38lQSZuS0YbzG9Slc7NIzU {\n  display: inline-flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  flex-grow: 1;\n}\n",""]),t.locals={container:"_3WhPy8oFvxAq6wuhuUx3i_",mainAction:"_35OCFniXNA1dETcIjZVpha",additionalAction:"_38lQSZuS0YbzG9Slc7NIzU"}},521:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=r(n(4)),o=r(n(0)),l=r(n(522)),i=n(216);t.default=(0,l.default)(function(e){return o.default.createElement(i.view,(0,a.default)({},e,{onCancel:e.onWindowClose}))})},522:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=r(n(4)),o=r(n(13)),l=r(n(1)),i=r(n(11)),u=r(n(2)),s=r(n(3)),d=r(n(0)),c=r(n(523)),f=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(119)),p=n(26),h=n(30),m=r(n(32));t.default=function(e,t){return(0,h.connect)(function(){return{}},function(e){return(0,p.bindActionCreators)(f,e)})(function(n){function r(){var e,t,n,a;(0,l.default)(this,r);for(var i=arguments.length,s=Array(i),d=0;d<i;d++)s[d]=arguments[d];return t=n=(0,u.default)(this,(e=r.__proto__||(0,o.default)(r)).call.apply(e,[this].concat(s))),n.cancelEverything=function(){var e=n.props,t=e.onCancel,r=e.closeWindow,a=e.windowId,o=e.closeMask;r(a),o(),t()},n.onDragStart=function(e){var t=window.getComputedStyle(document.getElementById("modal__"+n.props.windowId),null);e.dataTransfer.setData("text/plain",parseInt(t.getPropertyValue("left"),10)-e.clientX+","+(parseInt(t.getPropertyValue("top"),10)-e.clientY)+","+n.props.windowId)},a=t,(0,u.default)(n,a)}return(0,s.default)(r,n),(0,i.default)(r,[{key:"render",value:function(){var t=this.props,n=t.position,r=(t.closeModal,t.windowId),o=t.width,l=t.height,i=t.cancelable;t.onCancel;return d.default.createElement("div",{style:{left:n.x,top:n.y,width:o||"auto",height:l||"auto"},id:"modal__"+r,className:c.default.window},d.default.createElement("div",{className:c.default.header,draggable:!0,onDragStart:this.onDragStart},i?d.default.createElement(m.default,{className:c.default.cancel,onClick:this.cancelEverything,text:"X"}):null),d.default.createElement(e,(0,a.default)({},this.props,{onWindowClose:this.cancelEverything})))}},{key:"shouldComponentUpdate",value:function(e,n){return!t||t(e,n)}}]),r}(d.default.Component))}},523:function(e,t,n){var r=n(524);"string"==typeof r&&(r=[[e.i,r,""]]);var a={hmr:!0};a.transform=void 0;n(16)(r,a);r.locals&&(e.exports=r.locals)},524:function(e,t,n){(t=e.exports=n(15)(void 0)).push([e.i,"._2aK08Z4vJWqvH9oKXSJODy {\n  position: absolute;\n  display: block;\n  border-radius: 5px;\n  border: 4px solid rgba(0, 0, 0, 0.3);\n  background-color: white;\n}\n._2aK08Z4vJWqvH9oKXSJODy ._2JrnQET3dwzzlxZNIceY3j {\n  width: 100%;\n  height: 32px;\n  background-color: black;\n  background-size: 50px 50px;\n  background-image: linear-gradient(90deg, rgba(255, 255, 255, 0.2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, 0.2) 50%, rgba(255, 255, 255, 0.2) 75%, transparent 75%, transparent);\n  background-repeat: repeat;\n  border-bottom: 2px solid lightgrey;\n  box-shadow: 1px grey;\n}\n._1SQ5odnEVs-kA0QLGVg6yV {\n  display: inline-block;\n  position: absolute;\n  right: 0;\n  top: 0;\n  width: 30px;\n  height: 30px;\n  padding: 0 0 0 0;\n  border-radius: 0 0 0 0;\n}\n",""]),t.locals={window:"_2aK08Z4vJWqvH9oKXSJODy",header:"_2JrnQET3dwzzlxZNIceY3j",cancel:"_1SQ5odnEVs-kA0QLGVg6yV"}},525:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.view=void 0;var r=function(e){return e&&e.__esModule?e:{default:e}}(n(526));t.view=r.default},526:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=r(n(13)),o=r(n(1)),l=r(n(11)),i=r(n(2)),u=r(n(3)),s=r(n(0)),d=n(30),c=n(527),f=r(n(220)),p=r(n(59)),h=(r(n(528)),function(e){function t(){return(0,o.default)(this,t),(0,i.default)(this,(t.__proto__||(0,a.default)(t)).apply(this,arguments))}return(0,u.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e=this.props,t=e.wordCount,n=e.choosedWordCount,r=e.allWordCount;return s.default.createElement("div",{className:"container"},s.default.createElement(p.default,{info:"Unknown words:"+n+" of "+t+" = "+100*(n/t).toFixed(3)+"%;Total Num: "+r+" "}))}}]),t}(s.default.PureComponent)),m=function(e){for(var t=[],n=0;n<e.length;n++)for(var r=0;r<e[n].length;r++)for(var a=0;a<e[n][r].length;a++)t.push(e[n][r][a]);return t},v=(0,c.createSelector)(m,function(e){for(var t=new f.default,n=0;n<e.length;n++)t.insert(e[n]);return t}),g=(0,c.createSelector)(v,function(e){return e.root.count});t.default=(0,d.connect)(function(e){return{allWordCount:m(e.EnglishArticle.paragraphedWords).length,wordCount:g(e.EnglishArticle.paragraphedWords),choosedWordCount:e.EnglishArticle.choosedWords.root.count}})(h)},527:function(e,t,n){"use strict";function r(e,t){return e===t}function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r,n=null,a=null;return function(){return function(e,t,n){if(null===t||null===n||t.length!==n.length)return!1;for(var r=t.length,a=0;a<r;a++)if(!e(t[a],n[a]))return!1;return!0}(t,n,arguments)||(a=e.apply(null,arguments)),n=arguments,a}}function o(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return function(){for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];var l=0,i=r.pop(),u=function(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every(function(e){return"function"==typeof e})){var n=t.map(function(e){return typeof e}).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+n+"]")}return t}(r),s=e.apply(void 0,[function(){return l++,i.apply(null,arguments)}].concat(n)),d=a(function(){for(var e=[],t=u.length,n=0;n<t;n++)e.push(u[n].apply(null,arguments));return s.apply(null,e)});return d.resultFunc=i,d.recomputations=function(){return l},d.resetRecomputations=function(){return l=0},d}}t.__esModule=!0,t.defaultMemoize=a,t.createSelectorCreator=o,t.createStructuredSelector=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l;if("object"!=typeof e)throw new Error("createStructuredSelector expects first argument to be an object where each property is a selector, instead received a "+typeof e);var n=Object.keys(e);return t(n.map(function(t){return e[t]}),function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.reduce(function(e,t,r){return e[n[r]]=t,e},{})})};var l=t.createSelector=o(a)},528:function(e,t,n){var r=n(529);"string"==typeof r&&(r=[[e.i,r,""]]);var a={hmr:!0};a.transform=void 0;n(16)(r,a);r.locals&&(e.exports=r.locals)},529:function(e,t,n){(e.exports=n(15)(void 0)).push([e.i,"",""])},530:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.closeMask=t.openMask=t.closeWindow=t.openWindow=void 0;var r=n(119);t.openWindow=r.openWindow,t.closeWindow=r.closeWindow,t.openMask=r.openMask,t.closeMask=r.closeMask},531:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.view=void 0;var r=function(e){return e&&e.__esModule?e:{default:e}}(n(532));t.view=r.default},532:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=r(n(13)),o=r(n(1)),l=r(n(11)),i=r(n(2)),u=r(n(3)),s=r(n(0)),d=n(30),c=r(n(533)),f=r(n(59)),p=r(n(536)),h=function(e){function t(e){return(0,o.default)(this,t),(0,i.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e))}return(0,u.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e=this.props.words;return s.default.createElement("div",{className:"container"},0===e.length?s.default.createElement(f.default,{info:"You do not have unknown words, great!"}):e.map(function(e){return s.default.createElement("div",{className:p.default.oneItem,key:e.word},s.default.createElement(c.default,e))}))}}]),t}(s.default.PureComponent);t.default=(0,d.connect)(function(e){return{words:e.EnglishArticle.wordsTranslates}})(h)},533:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=r(n(13)),o=r(n(1)),l=r(n(11)),i=r(n(2)),u=r(n(3)),s=r(n(0)),d=r(n(534)),c=function(e){function t(e){return(0,o.default)(this,t),(0,i.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e))}return(0,u.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e=this.props,t=e.word,n=e.example,r=e.translate,a=e.exampleTranslate,o=e.expression,l=e.pronouncation;return s.default.createElement(s.default.Fragment,null,s.default.createElement("div",{className:d.default.word},t," |",l||"none","|"),s.default.createElement("div",{className:d.default.label},"Meaning:"),s.default.createElement("div",{className:d.default.translate},r||"none"),s.default.createElement("div",{className:d.default.label},"Example:"),s.default.createElement("div",{className:d.default.example},n||"none"),s.default.createElement("div",{className:d.default.label},"Meaning:"),s.default.createElement("div",{className:d.default.exampleTranslate},a||"none"),s.default.createElement("div",{className:d.default.label},"RegularExpression:"),s.default.createElement("div",{className:d.default.expression},o||"none"))}}]),t}(s.default.PureComponent);t.default=c},534:function(e,t,n){var r=n(535);"string"==typeof r&&(r=[[e.i,r,""]]);var a={hmr:!0};a.transform=void 0;n(16)(r,a);r.locals&&(e.exports=r.locals)},535:function(e,t,n){(t=e.exports=n(15)(void 0)).push([e.i,"._17u5L4tuCgdpUt_45Q1LPB {\n  font-size: 22px;\n  padding-left: 1em;\n  background-color: black;\n  color: #96D6DE;\n}\n._3vcZ-djjw2-oZ_5YVAXivX {\n  font-size: 24px;\n  font-weight: bold;\n  font-style: italic;\n}\n._3J48W7JGnMAiG408LV7uQy,\n._3wcjh7Upn7h68F_hBfufY9,\n._1NFwnFqNijTAbLurdARrRL,\n.HQaUrLw2izS9-VtDXT0aN {\n  padding-left: 2em;\n  background-color: #96D6DE;\n  color: black;\n}\n",""]),t.locals={label:"_17u5L4tuCgdpUt_45Q1LPB",word:"_3vcZ-djjw2-oZ_5YVAXivX",example:"_3J48W7JGnMAiG408LV7uQy",translate:"_3wcjh7Upn7h68F_hBfufY9",exampleTranslate:"_1NFwnFqNijTAbLurdARrRL",expression:"HQaUrLw2izS9-VtDXT0aN"}},536:function(e,t,n){var r=n(537);"string"==typeof r&&(r=[[e.i,r,""]]);var a={hmr:!0};a.transform=void 0;n(16)(r,a);r.locals&&(e.exports=r.locals)},537:function(e,t,n){(t=e.exports=n(15)(void 0)).push([e.i,"._2p-QGCDzeXb1LosygXwJdE {\n  margin-bottom: 20px;\n  padding-bottom: 10px;\n  padding-left: 4px;\n  border-bottom: lightgrey solid 2px;\n}\n",""]),t.locals={oneItem:"_2p-QGCDzeXb1LosygXwJdE"}},538:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n(219));t.default=function(e){for(var t,n=(0,r.default)(e),a=e[n[0]].length,o=[],l=0;l<a;l++){t={};for(var i=0;i<n.length;i++)t[n[i]]=e[n[i]][l];o.push(t)}return o}}});