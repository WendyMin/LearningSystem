/*!
 * Direct.js
 * Antinux Innovation
 * Author: Eric Deng
 */
(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{577:function(e,t,n){(t=e.exports=n(14)(!1)).push([e.i,".QwRCQKdapxwrPoYMfYo9a{height:100%;width:100%}._1ynOc039zG7fwdlT1JN6Yt{display:flex;height:10%;width:100%;background-color:#5379c6;color:#fff;font-size:100%;align-items:center;font-family:Arvo}._1rzGh84dzIW61FVSq8RRVn{position:absolute;left:5%;font-size:25px}._17fteZSrzRtXQGhfzFPWzT{position:absolute;right:8%;font-size:25px}._3c_ssFWb3haqof-SXs1EGG{position:absolute;top:10%;left:0;bottom:0;width:15%;background:#5379c6;font-size:25px;text-align:center}._3rUu41i63ueI2_4JnBcKNw{width:80px;height:80px;border-radius:50%}._2JnxXAsdFP9qOawMwnRiti{color:#fff;font-size:20px}._1hMUWtkDdQ6Xm2ACCQknKE,._1wtp704Y-ajGBPsSiyAoWT{font-size:25px;padding-top:5px;padding-bottom:5px;color:#fff}._1wtp704Y-ajGBPsSiyAoWT{background:orange}.I_bRJZxKVxAt66xySjMmI{position:absolute;top:10%;left:15%;height:90%;width:85%;overflow-y:scroll}.I_bRJZxKVxAt66xySjMmI ._32px-LXngFJYVMDkwOBPvB{display:block;position:absolute;text-align:center;font-size:20px;bottom:5%;left:40%}._1ex1_UGX_4sWI6-L5dNnDW{color:orange}.JpHtXcEvQv6Y1Bv3n1mrb{color:#fff}",""]),t.locals={wholePage:"QwRCQKdapxwrPoYMfYo9a",HUD:"_1ynOc039zG7fwdlT1JN6Yt",title:"_1rzGh84dzIW61FVSq8RRVn",goback:"_17fteZSrzRtXQGhfzFPWzT",subjectText:"_3c_ssFWb3haqof-SXs1EGG",picture:"_3rUu41i63ueI2_4JnBcKNw",username:"_2JnxXAsdFP9qOawMwnRiti",normalText:"_1hMUWtkDdQ6Xm2ACCQknKE",chosedText:"_1wtp704Y-ajGBPsSiyAoWT",mainContent:"I_bRJZxKVxAt66xySjMmI",bottomButton:"_32px-LXngFJYVMDkwOBPvB",chosedLogin:"_1ex1_UGX_4sWI6-L5dNnDW",normalLogin:"JpHtXcEvQv6Y1Bv3n1mrb"}},578:function(e,t,n){var o=n(577);"string"==typeof o&&(o=[[e.i,o,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(13)(o,a);o.locals&&(e.exports=o.locals)},579:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=M(n(2)),a=M(n(480)),s=M(n(11)),i=M(n(4)),l=M(n(10)),r=M(n(3)),d=M(n(5)),u=M(n(1)),c=n(19),f=n(17),p=n(475),h=M(n(578)),m=(M(n(33)),M(n(139))),g=M(n(140)),w=M(n(492)),x=M(n(489)),y=M(n(488)),S=M(n(487)),b=(M(n(491)),M(n(490))),v=n(503),_=n(224),Q=n(228),k=n(510),E=M(n(478)),A=M(n(474)),W=M(n(473)),q=M(n(220)),I=M(n(472));function M(e){return e&&e.__esModule?e:{default:e}}var z=function(e){function t(e){(0,i.default)(this,t);var n=(0,r.default)(this,(t.__proto__||(0,s.default)(t)).call(this,e));return n.loadQuestions=function(){n.props.loadQuestions({url:"/api/getQuestion",body:{username:n.props.username,lock:0,articleId:0},parser:function(e){return e.map(function(e){return{questionId:e.questionid,options:e.choice,rightKey:e.key,question:e.question,analysis:e.analysis}})}})},n.nextStep=function(){n.setState({processStep:n.state.processStep+1})},n.confirm=function(){n.nextStep()},n.quit=function(){for(var e=0;e<questions.length;e++)unlockAndHide(questions[e].questionId);hideAllTranslate(),n.props.history.goBack()},n.doMore=function(){var e=n.props,t=e.unlockAndHide,o=e.loadContent,a=e.questions,s=e.hideAllTranslate;o(),n.loadQuestions();for(var i=0;i<a.length;i++)t(a[i].questionId);s(),n.setState({processStep:0,displayByWords:!0})},n.submitQuestions=function(){var e=n.props,t=e.username,o=e.questions,a=e.articleId,s=e.submitQuestionState,i=e.submiting,l=e.lockAndShow,r=s.resolved;if(!i){for(var d="",u=0;u<o.length;u++)o[u].choosed!==o[u].rightKey&&(d+=o[u].questionId+" ");if(n.props.submitQuestions({url:"/api/recordWrongQuestion",body:{username:t,article_id:a,wrong_question_ids:d,time:r+1}}),0==(r+1&1))for(u=0;u<o.length;u++)l(o[u].questionId)}},n.actions=[n.submitQuestions,e.translateWords,function(){n.confirm(),n.setState({displayByWords:!1})},function(){e.translateSentences(),n.confirm()},function(){e.hideTranslate(),n.confirm()},n.submitQuestions,[n.confirm,e.translateAll],[n.quit,n.doMore]],n.texts=["submit","translate words","confirm","translate sentences","confirm","submit",["confirm","translate all"],["end","do more"]],n.describes=["read this page, and try to answer the questions in right, and then submit.","choose your unknown words","read the explaination","choose the sentences you do not understand well","check all translates again","do these questions again","check your answers and see analysises","want to do more?"],n.state={processStep:0,displayByWords:!0},n}return(0,d.default)(t,e),(0,l.default)(t,[{key:"componentDidMount",value:function(){this.props.loadContent(),this.loadQuestions()}},{key:"render",value:function(){var e,t=this,n=this.state.processStep,o=this.props,s=o.translateWordsState,i=(o.submitQuestionState,o.loadQuestionState),l=o.translateWords,r=(o.translateSentences,o.loadArticleState),d=o.loadContent,c=o.ined,f=this.state.displayByWords,b="",A=[],W=[];if(Array.isArray(this.texts[n])){var q=(0,a.default)(this.actions[n]);e=q[0],A=q.slice(1);var I=(0,a.default)(this.texts[n]);b=I[0],W=I.slice(1),e={action:e,text:b},A=(0,E.default)({action:A,text:W})}else e={action:this.actions[n],text:this.texts[n]};return u.default.createElement(u.default.Fragment,null,u.default.createElement(p.Prompt,{when:0!==n&&n!==this.actions.length-1,message:"you need to do it again, are you sure to quit?"}),u.default.createElement("div",{className:h.default.HUD},"Step ",n+1,": ",this.describes[n]),u.default.createElement("div",{className:h.default.wrapper},u.default.createElement("div",{className:h.default.leftPane},u.default.createElement(w.default,{loading:r.pending,wasLoaded:r.resolved,lastFailed:r.lastFailed,reloader:d,center:!0},u.default.createElement(x.default,{play:c},u.default.createElement(Q.view,{displayByWords:f})))),u.default.createElement("div",{className:h.default.rightPane},function(){switch(n){case 0:case 5:case 6:return u.default.createElement(w.default,{loading:i.pending,wasLoaded:i.resolved,lastFailed:i.lastFailed,reloader:t.loadQuestions,center:!0},u.default.createElement(y.default,{play:c},u.default.createElement(_.view,{submiter:t.submitQuestions,loader:t.loadQuestions})));case 1:return u.default.createElement("div",{className:"container"},u.default.createElement("div",{className:"makeLoadingCenter"},u.default.createElement(w.default,{center:!0,loading:s.pending,lastFailed:s.lastFailed,wasLoaded:s.resolved,reloader:l,info:"Click on the word you don't know"})));case 2:case 4:return u.default.createElement(k.view,null);case 3:return u.default.createElement(m.default,{info:"Click on the sentence you don't know"});case 7:return u.default.createElement(v.view,null)}}())),u.default.createElement("div",{className:h.default.controlPane},u.default.createElement(S.default,{play:c},u.default.createElement(g.default,{mainAction:e,additionalActions:A}))))}}]),t}(u.default.PureComponent);t.default=(0,I.default)([(0,W.default)({submitQuestionState:{onResolved:function(){this.nextStep()},onRejected:function(){this.props.alert("失败")}},translateWordsState:{onResolved:function(){this.nextStep()},onRejected:function(){this.props.alert("失败")}}}),(0,A.default)({logined:{satisfy:function(e){return!0===e},block:function(){var e=this.props,t=e.openWindow,n=e.history,o=e.closeMask,a=e.openMask;t(b.default,{width:"380px",height:"300px",position:{top:"calc( 50% - 190px)",left:"calc( 50% - 150px)"},onCancel:function(){return n.goBack()||o()},onSuccess:o}),a()}}}),q.default,(0,c.connect)(function(e){return{logined:e.UserManager.logined,username:e.UserManager.name,questions:e.SingleOptionQuestions.content,showSentencesTranslates:e.EnglishArticle.showSentencesTranslates,loadQuestionState:e.SingleOptionQuestions.loadState,submitQuestionState:e.SingleOptionQuestions.submitState,loadArticleState:e.EnglishArticle.loadState,translateWordsState:e.EnglishArticle.translateWordsState}},function(e){return(0,o.default)({},(0,f.bindActionCreators)(_.actions,e),(0,f.bindActionCreators)(Q.actions,e))})],z)}}]);